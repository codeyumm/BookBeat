@model BookBeat.Models.ViewModels.LaterList

@{
    ViewBag.Title = "Discovered";
    bool? isTrackDeleted = ViewBag.isTrackDeleted;
    bool? isTrackAddedInDiscoverd = ViewBag.isAddedToDiscoverd;
    bool? isAddedToListenLater = ViewBag.isAddedToListenLater;
}

@if (isTrackDeleted == true)
{
    <script>
        alert("Track is removed from your list");
    </script>
}

@if (isTrackAddedInDiscoverd == true)
{
    <script>
        alert("Track is added to your discovered list");
    </script>
}

@if (isAddedToListenLater == true)
{
    <script>
        alert("Track is added to your listen later list");
    </script>
}

<section class="discovered-list-container">

    <form method="get" action="/User/DisplayProfile" class="btn-go-to-profile">
        <input type="submit" value="Go to Profile" />
    </form>


    @if (Model.Tracks != null && Model.Tracks.Any())
    {
        <div class="col-md-12">
            <h3>Discovered list of @Model.Tracks.First().FirstName (Music)</h3>
            <div class="row flex justify-content-center align-items-center">
                @foreach (var track in Model.Tracks)
                {
                    <div class="card mx-4 my-4 p-4" style="width: 18rem;">
                        <img src="@track.AlbumArt" class="card-img-top" alt="Album art">
                        <div class="card-body">
                            <h5 class="card-title">@track.Title</h5>
                            <p class="card-text">Artist: @track.Artist</p>
                            <p class="card-text">Album: @track.Album</p>
                        </div>
                        <div class="card-footer">

                            <form method="POST" action="/MediaList/AddToLaterList">
                                <input type="hidden" name="userId" value="@track.UserID" />
                                <input type="hidden" name="mediaId" value="@track.TrackID" />
                                <input type="hidden" name="mediaType" value="track" />
                                <input type="hidden" name="Title" value="@track.Title" />
                                <input type="hidden" name="Album" value="@track.Album" />
                                <input type="hidden" name="AlbumArt" value="@track.AlbumArt" />
                                <input type="hidden" name="Artist" value="@track.Artist" />
                                <input class="btn custom-btn" type="submit" value="Listen later" />
                            </form>
                            @*   <form method="POST" action="/MediaList/AddToDiscoveredList">
                                    <input type="hidden" name="userId" value="@track.UserID" />
                                    <input type="hidden" name="mediaId" value="@track.TrackID" />
                                    <input type="hidden" name="mediaType" value="track" />
                                    <input type="hidden" name="Title" value="@track.Title" />
                                    <input type="hidden" name="Album" value="@track.Album" />
                                    <input type="hidden" name="AlbumArt" value="@track.AlbumArt" />
                                    <input type="hidden" name="Artist" value="@track.Artist" />
                                    <input class="btn custom-btn" type="submit" value="Add To Discovered" />
                                </form> *@

                            <form method="POST" action="/MediaList/RemoveFromDiscoveredList">
                                <input type="hidden" name="userId" value="@track.UserID" />
                                <input type="hidden" name="mediaId" value="@track.TrackID" />
                                <input type="hidden" name="mediaType" value="track" />

                                <input type="image" src="~/Content/images/remove.png" alt="submit" class="btn-submit-image" title="Remove" />
                            </form>

                        </div>
                    </div>
                }
            </div>



        </div>
    }
    else
    {

        <div class="col-md-6">
            <h1>You don't have any discovered music tracks</h1>
        </div>
    }

    @if (Model.Books == null)
    {
        <div class="col-md-6">
            <h1>You don't have any discovered books</h1>
        </div>
    }
    else
    {
        @* <div class="col-md-6">
                <h1>Discovered list of @Model.Books.First().UserName (Books)</h1>
                <div class="row flex justify-content-center align-items-center">
                    @foreach (var book in Model.Books)
                    {
                        <div class="card mx-4 my-4 p-4" style="width: 18rem;">
                            <!-- Book details -->
                        </div>
                    }
                </div>
            </div> *@
    }
</section>
